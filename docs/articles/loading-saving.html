<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loading and saving • eyer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Loading and saving">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eyer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/area-analysis.html">Area of interest analysis</a>
    </li>
    <li>
      <a href="../articles/loading-saving.html">Loading and saving</a>
    </li>
    <li>
      <a href="../articles/preprocessing.html">preprocessing</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Loading and saving</h1>
                        <h4 class="author">Lukáš ‘hejtmy’ Hejtmánek</h4>
            
            <h4 class="date">2019-09-18</h4>
      
      
      <div class="hidden name"><code>loading-saving.Rmd</code></div>

    </div>

    
    
<p>Eyer allows for saving data in a predefined structure and then loading them from passed folder. The package comes with both <code>eyer_data</code> object for testing and demosntrations, but also with raw data you can look at and test loading. It is generally installed into <code><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file("extdata", package = "eyer")</a></code> system folder.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(eyer)</a></code></pre></div>
<pre><code>## Loading required package: ggplot2</code></pre>
<pre><code>## Registered S3 methods overwritten by 'ggplot2':
##   method         from 
##   [.quosures     rlang
##   c.quosures     rlang
##   print.quosures rlang</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">loading_folder &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"extdata"</span>, <span class="dt">package =</span> <span class="st">"eyer"</span>)</a>
<a class="sourceLine" id="cb4-2" title="2">eye &lt;-<span class="st"> </span><span class="kw"><a href="../reference/load_eyer_data.html">load_eyer_data</a></span>(loading_folder)</a></code></pre></div>
<pre><code>## Loading preprocessed fixations log at C:/Users/hejtm/Documents/R/win-library/3.6/eyer/extdata/test_eyer_fixations.csv</code></pre>
<pre><code>## Loading preprocessed gaze log at C:/Users/hejtm/Documents/R/win-library/3.6/eyer/extdata/test_eyer_gaze.csv</code></pre>
<pre><code>## Loading preprocessed diameter log at C:/Users/hejtm/Documents/R/win-library/3.6/eyer/extdata/test_eyer_diameter.csv</code></pre>
<pre><code>## Loading preprocessed events log at C:/Users/hejtm/Documents/R/win-library/3.6/eyer/extdata/test_eyer_events.csv</code></pre>
<pre><code>## Loading preprocessed info log C:/Users/hejtm/Documents/R/win-library/3.6/eyer/extdata/test_eyer_gaze.csv</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(eye)</a></code></pre></div>
<pre><code>## List of 2
##  $ data:List of 4
##   ..$ events   :'data.frame':    1 obs. of  3 variables:
##   .. ..$ time  : int 126353
##   .. ..$ action: Factor w/ 1 level "KEY_UP": 1
##   .. ..$ name  : Factor w/ 1 level "l": 1
##   ..$ fixations:'data.frame':    378 obs. of  4 variables:
##   .. ..$ duration: int [1:378] 377 200 147 306 141 208 356 145 234 233 ...
##   .. ..$ x       : num [1:378] 1762 1804 1844 905 674 ...
##   .. ..$ y       : num [1:378] 881 910 917 610 628 ...
##   .. ..$ time    : int [1:378] 390 777 984 1198 1530 1829 2051 2439 2593 2833 ...
##   ..$ gaze     :'data.frame':    130000 obs. of  3 variables:
##   .. ..$ x   : num [1:130000] 1720 1720 1720 1721 1722 ...
##   .. ..$ y   : num [1:130000] 848 847 845 843 843 ...
##   .. ..$ time: int [1:130000] 0 1 2 3 4 5 6 7 8 9 ...
##   ..$ diameter :'data.frame':    130000 obs. of  2 variables:
##   .. ..$ time    : int [1:130000] 0 1 2 3 4 5 6 7 8 9 ...
##   .. ..$ diameter: int [1:130000] 847 846 845 847 850 850 848 846 846 845 ...
##  $ info:List of 3
##   ..$ start_time: int 8123762
##   ..$ resolution:List of 2
##   .. ..$ width : int 1920
##   .. ..$ height: int 1080
##   ..$ eyetracker: chr "Eyelink 1000"
##  - attr(*, "class")= chr [1:2] "list" "eyer"</code></pre>
<p>The eyer object then allows us to do some quick operations and visualisations</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw"><a href="../reference/plot_gaze.html">plot_gaze</a></span>(eye, <span class="dt">downsample =</span> <span class="dv">50</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/geom_eyer_monitor.html">geom_eyer_monitor</a></span>(eye)</a></code></pre></div>
<pre><code>## Warning: Removed 36 rows containing missing values (geom_point).</code></pre>
<p><img src="loading-saving_files/figure-html/unnamed-chunk-3-1.png" width="768"></p>
<p>As this data comes from eyelink 1000 eyetracker, the anchor is in top left, whereas we want to plot it with 0,0 begin in the bottom left. So we needd to flip the Y axis to the 1080 value.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">eye &lt;-<span class="st"> </span><span class="kw"><a href="../reference/flip_axis.html">flip_axis</a></span>(eye, <span class="st">"y"</span>, <span class="dv">1080</span>)</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw"><a href="../reference/plot_gaze.html">plot_gaze</a></span>(eye, <span class="dt">downsample =</span> <span class="dv">50</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/geom_eyer_monitor.html">geom_eyer_monitor</a></span>(eye)</a></code></pre></div>
<p><img src="loading-saving_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
<p>and after we are finished, we can save the data again</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw"><a href="../reference/save_eyer.html">save_eyer</a></span>(eye, <span class="st">"temp"</span>, <span class="st">"preprocessed"</span>)</a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list.files">list.files</a></span>(<span class="st">"temp"</span>)</a></code></pre></div>
<pre><code>## [1] "preprocessed_eyer_diameter.csv"  "preprocessed_eyer_events.csv"   
## [3] "preprocessed_eyer_fixations.csv" "preprocessed_eyer_gaze.csv"     
## [5] "preprocessed_eyer_info.json"</code></pre>
<p>We can then load the data and continue with preprocessed flipped data</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">eye &lt;-<span class="st"> </span><span class="kw"><a href="../reference/load_eyer_data.html">load_eyer_data</a></span>(<span class="st">"temp"</span>)</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw"><a href="../reference/plot_gaze.html">plot_gaze</a></span>(eye, <span class="dt">downsample =</span> <span class="dv">50</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/geom_eyer_monitor.html">geom_eyer_monitor</a></span>(eye)</a></code></pre></div>
<p><img src="loading-saving_files/figure-html/unnamed-chunk-6-1.png" width="768"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Lukáš "hejtmy" Hejtmánek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
